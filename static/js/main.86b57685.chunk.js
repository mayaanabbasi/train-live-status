(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(61)},38:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),o=(a(38),a(7)),i=a(8),s=a(10),m=a(9),u=a(11),d=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title-container__title"},"Train Live Status"),r.a.createElement("h3",{className:"title-container__subtitle"},"Check live status of your train"))},E=function(e){var t=e.getStations;return r.a.createElement("form",{onSubmit:t,method:"post"},r.a.createElement("input",{type:"text",name:"trainno",placeholder:"Enter train number",maxLength:"5",required:!0}),r.a.createElement("button",null,"Search"))},v=function(e){var t=e.status,a=e.position;return t?r.a.createElement("div",{className:"__info"},r.a.createElement("table",{cellPadding:"5px;"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Scheduled Arrival"),r.a.createElement("td",{className:"__value"},t.scharr)),r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Actual Arrival"),r.a.createElement("td",{className:"__value"},t.actarr)),r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Scheduled Departure"),r.a.createElement("td",{className:"__value"},t.schdep)),r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Actual Departure"),r.a.createElement("td",{className:"__value"},t.actdep)),null===t.latemin?r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Late by"),r.a.createElement("td",{className:"__value"},"No Delay")):r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Late by"),r.a.createElement("td",{className:"__value"},t.latemin," minutes")),r.a.createElement("tr",null,r.a.createElement("td",{className:"__key"},"Position"),r.a.createElement("td",{className:"__value"},a))))):null},p=function(e){var t=e.getStatus,a=e.routes,n=e.trainname,l=e.loading;return r.a.createElement("div",null,l&&r.a.createElement("p",{className:"details"}," Loading... "),n&&r.a.createElement("p",{className:"details"}," ",n," "),r.a.createElement("form",{onSubmit:t},r.a.createElement("select",{name:"station"},a.map(function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)})),r.a.createElement("button",null,"Get Status")))},g=a(14),h=function(){return r.a.createElement("div",null,r.a.createElement(g.b,{to:"/"},"Train Live Status"),r.a.createElement(g.b,{to:"/train-number"},"Train Number"))},f=function(){return r.a.createElement("div",{className:"notice"},"This app is still under development and may contain some bugs.")},b=a(15),_=a.n(b),N="gbimmkkm2q",y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={routes:[],trainname:void 0,trainno:void 0,loading:void 0,position:void 0,status:void 0,date:void 0},a.getStations=function(e){e.preventDefault(),a.setState({loading:!0,trainname:void 0});var t=e.target.elements.trainno.value;console.log(t),a.setState({trainno:t}),_.a.get("https://api.railwayapi.com/v2/route/train/".concat(t,"/apikey/").concat(N,"/")).then(function(e){var t=e.data.train.name,n=e.data.route.map(function(e){return e.station});a.setState({routes:n,trainname:t,loading:!1}),console.log(a.state.trainname)}).catch(function(e){a.setState({loading:!0}),e.response||(e.request?console.log(e.request):console.log("Error",e.message)),console.log(e.config)})},a.getStatus=function(e){e.preventDefault(),console.log(a.state.trainno);var t=e.target.elements.station.value;console.log(t),_.a.get("https://api.railwayapi.com/v2/live/train/".concat(a.state.trainno,"/station/").concat(t,"/date/").concat(a.state.date,"/apikey/").concat(N,"/")).then(function(e){var t=e.data.position,n=e.data.status;a.setState({position:t,status:n}),console.log("position:",t),console.log("status: ",n)}).catch(function(e){e.response||(e.request?console.log(e.request):console.log("Error",e.message)),console.log(e.config)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).getDate(),t=(new Date).getMonth()+1,a=(new Date).getFullYear();this.setState({date:e+"-"+t+"-"+a})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row links"},r.a.createElement(h,null)),r.a.createElement("div",{className:"row section-trainstatus"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement(d,null)),r.a.createElement("div",{className:"col-lg-7"},r.a.createElement(E,{getStations:this.getStations}),0===this.state.routes.length?null:r.a.createElement(p,{routes:this.state.routes,getStatus:this.getStatus,trainname:this.state.trainname,loading:this.state.loading}),r.a.createElement("div",{className:"form-container"},r.a.createElement(v,{position:this.state.position,status:this.state.status})))))))}}]),t}(r.a.Component),k=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title-container__title"},"Train Number"),r.a.createElement("h3",{className:"title-container__subtitle"},"Get train number from train name"))},w=function(e){var t=e.trainNumber;return r.a.createElement("form",{onSubmit:t,method:"post"},r.a.createElement("input",{type:"text",name:"trainname",placeholder:"Enter train name",required:!0}),r.a.createElement("button",null,"Search"))},S=function(e){var t=e.traininfo;return r.a.createElement("div",{className:"__info table-wrapper-scroll-y my-custom-scrollbar form-container"},r.a.createElement("table",{cellPadding:"5px;"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"__key"},"Train name"),r.a.createElement("th",{className:"__key"},"Train number"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.number},r.a.createElement("td",{className:"__key"},e.name),r.a.createElement("td",{className:"__value"},e.number))}))))},j="gbimmkkm2q",O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={traininfo:[]},a.trainNumber=function(e){e.preventDefault();var t=e.target.elements.trainname.value;console.log(t),_.a.get("https://api.railwayapi.com/v2/suggest-train/train/".concat(t,"/apikey/").concat(j,"/")).then(function(e){console.log(e.data.trains);var t=e.data.trains;a.setState({traininfo:t})})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row links"},r.a.createElement(h,null)),r.a.createElement("div",{className:"row section-trainstatus"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement(k,null)),r.a.createElement("div",{className:"col-lg-7"},r.a.createElement(w,{trainNumber:this.trainNumber}),0===this.state.traininfo.length?null:r.a.createElement(S,{traininfo:this.state.traininfo}))))))}}]),t}(r.a.Component),D=a(6),q=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/",component:y,exact:!0}),r.a.createElement(D.a,{path:"/train-number",component:O,exact:!0})))}}]),t}(r.a.Component);a(60),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.86b57685.chunk.js.map